const Justine = document.getElementById("Justine");
const Esther = document.getElementById("Esther");
const Andres = document.getElementById("Andres");
const Victor = document.getElementById("Victor");
  Justine.addEventListener("click", getStudentData);
  Esther.addEventListener("click", getStudentData);
  Andres.addEventListener("click", getStudentData);
  Victor.addEventListener("click", getStudentData);

async function getStudentData() {
    const userOutput = document.getElementById('userOutput')
    let selectedEevee = this.id;
    try {
      const response = await fetch('https://yearupdemo.azurewebsites.net/api/users')
      const userData = await response.json()
      console.log(userData);
      

        let matching = userData.find(user => user.Name.includes(selectedEevee));
        console.log("Matching User:", matching);

        if(matching){
            // const taskContainer = document.createElement("div");
            let memberImage = "";
            if(matching.Name == "Andres"){
                memberImage = "images/icons/Andres.png"
            }
            else if (matching.Name == "Esther"){
                memberImage = "images/icons/Wally.png"
            }
            else if (matching.Name == "Justine"){
                memberImage = "images/icons/Tina.png"
            }
            else {
                memberImage = "images/icons/Victor.png"
            }
            let message=`
            <br>
            <div class="card testimonial-card mt-2 mb-3" style="width: 18rem;">
                <div class="card-up aqua-gradient d-flex justify-content-center">
                    <h2 class="card-title font-weight-bold mt-5">${matching.Name}</h2>
                </div>
                <div class="card-body text-center d-flex flex-column justify-content-between">
                    <div>
                        <h5>"${matching.CodingNickname}"</h5>
                        <p class="groupName"><strong>Group: </strong>${matching.Groupname}</p>
                    </div>
                    <div>
                        <hr>
                        <div class="d-flex justify-content-center">
                            <div class="d-flex justify-content-between">
                                <a href="${matching.GitHubProfile}" target="_blank"><img src="icon/Github.png" style="height: 50%"></a>
                                <a href="mailto:${matching.Email}" target="_blank"><img src="icon/email.png" style="height: 54%"></a>
                                <a href="${matching.imageURL}" target="_blank"><img src="icon/popper.png" style="height: 54%"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`
                ;
                document.getElementById("userOutput").innerHTML = message;
        }
    } catch (error) {
        console.error('There was a problem with the fetch operation:', error);
    }
}

